{"remainingRequest":"/home/jaalorsa/Proyectos/softka/juego_de_carros_por_consola_-_grupo_b/carros_js/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jaalorsa/Proyectos/softka/juego_de_carros_por_consola_-_grupo_b/carros_js/src/views/Juego.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jaalorsa/Proyectos/softka/juego_de_carros_por_consola_-_grupo_b/carros_js/src/views/Juego.vue","mtime":1619036609178},{"path":"/home/jaalorsa/Proyectos/softka/juego_de_carros_por_consola_-_grupo_b/carros_js/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaalorsa/Proyectos/softka/juego_de_carros_por_consola_-_grupo_b/carros_js/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/jaalorsa/Proyectos/softka/juego_de_carros_por_consola_-_grupo_b/carros_js/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jaalorsa/Proyectos/softka/juego_de_carros_por_consola_-_grupo_b/carros_js/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmltcG9ydCBnZXROdW1iZXJSYW5kb20gZnJvbSAiQC91dGlscy9yYW5kb20iOwppbXBvcnQgSnVlZ28gZnJvbSAiQC9tb2RlbHMvSnVlZ28iOwppbXBvcnQgUGlzdGEgZnJvbSAiQC9tb2RlbHMvUGlzdGEiOwppbXBvcnQgQ2Fycm8gZnJvbSAiQC9tb2RlbHMvQ2Fycm8iOwppbXBvcnQgQ29uZHVjdG9yIGZyb20gIkAvbW9kZWxzL0NvbmR1Y3RvciI7CmltcG9ydCBKdWdhZG9yIGZyb20gIkAvbW9kZWxzL0p1Z2Fkb3IiOwppbXBvcnQgQ2FycmlsIGZyb20gIkAvbW9kZWxzL0NhcnJpbCI7CmltcG9ydCBtb2RhbCBmcm9tICJAL2NvbXBvbmVudHMvTW9kYWwudnVlIgoKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOnsKICAgIG1vZGFsCiAgfSwKICBkYXRhOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB7CiAgICAgIGp1ZWdvOiB1bmRlZmluZWQsCiAgICAgIGN1cnJlbnRKdWdhZG9yOiAwLAogICAgICBwb3NpdGlvbiA6IDEsCiAgICAgIHNob3dNb2RhbDpmYWxzZSwKICAgICAgc3R5bGVzQ2Fycm86WwogICAgICAgIHsibWFyZ2luLWxlZnQiOiIwIn0sCiAgICAgICAgeyJtYXJnaW4tbGVmdCI6IjAifSwKICAgICAgICB7Im1hcmdpbi1sZWZ0IjoiMCJ9LAogICAgICAgIHsibWFyZ2luLWxlZnQiOiIwIn0sCiAgICAgICAgeyJtYXJnaW4tbGVmdCI6IjAifSwKICAgICAgXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBnZXRQb2tlbW9uczogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5wb2tlbW9uc30sCiAgICBnZXRDb25kdWN0b3JlczogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLmp1ZWdvLmNvbmR1Y3RvcmVzCiAgICB9LAogICAgZ2V0Q29uZHVjdG9yOiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29uZHVjdG9yZXNbdGhpcy5jdXJyZW50SnVnYWRvcl0KICAgIH0sCiAgICBnZXRKdWdhZG9yOiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29uZHVjdG9yLmp1Z2Fkb3IKICAgIH0sCiAgICBnZXRDYXJybzogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiB0aGlzLmdldENvbmR1Y3Rvci5jYXJybwogICAgfSwKICAgIGdldEF2YW5jZTogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiAodGhpcy5nZXRDYXJyby5kaXN0YW5jaWEgKiAxMDApIC8gKHRoaXMuZ2V0Q2Fycm8uY2FycmlsLmxvbmdpdHVkKjEwMDApCiAgICB9LAogICAgbXNnTG9nOiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIGBKdWdhZG9yICR7dGhpcy5nZXRKdWdhZG9yLm5vbWJyZX0gYXZhbnrDsyBhbCBraWzDs21ldHJvICR7dGhpcy5nZXRDYXJyby5kaXN0YW5jaWEvMTAwMH1gCiAgICB9CiAgfSwKICBtZXRob2RzOnsKICAgIG9uVGhyb3c6IGZ1bmN0aW9uKCl7CiAgICAgIGlmKHRoaXMuZ2V0Q29uZHVjdG9yLnBvc2l0aW9uICE9PSAwKXsKICAgICAgICB0aGlzLmdldENhcnJvLmF2YW56YXIodGhpcy5nZXRDb25kdWN0b3IudGlyYXJEYWRvKCkgKiAxMDApCiAgICAgICAgdGhpcy5uZXdQKCkKCiAgICAgICAgaWYodGhpcy5nZXRDYXJyby5kaXN0YW5jaWEvMTAwMCA+IHRoaXMuZ2V0Q2Fycm8uY2FycmlsLmxvbmdpdHVkIHwgdGhpcy5nZXRBdmFuY2UgPiB0aGlzLmdldENhcnJvLmNhcnJpbC5sb25naXR1ZCAqIDEwMDApewogICAgICAgICAgdGhpcy5zdHlsZXNDYXJyb1t0aGlzLmN1cnJlbnRKdWdhZG9yXVsibWFyZ2luLWxlZnQiXSA9IGA5MCVgCiAgICAgICAgICBpZih0aGlzLnBvc2l0aW9uIDw9NSl7CiAgICAgICAgICAgIHRoaXMuZ2V0Q29uZHVjdG9yLnBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbgogICAgICAgICAgICB0aGlzLnBvc2l0aW9uICsrCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2V7CiAgICAgICAgICB0aGlzLnN0eWxlc0NhcnJvW3RoaXMuY3VycmVudEp1Z2Fkb3JdWyJtYXJnaW4tbGVmdCJdID0gYCR7dGhpcy5nZXRBdmFuY2V9JWAKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmN1cnJlbnRKdWdhZG9yIDwgdGhpcy5nZXRDb25kdWN0b3Jlcy5sZW5ndGgtMSApewogICAgICAgIHRoaXMuY3VycmVudEp1Z2Fkb3IrKwogICAgICB9CiAgICAgIGVsc2V7CiAgICAgICAgdGhpcy5jdXJyZW50SnVnYWRvciA9IDAKICAgICAgfQogICAgfSwKICAgIG5ld1A6ZnVuY3Rpb24oKSB7CiAgICAgIC8vQ3JlYXIgdW4gbnVldm8gcGFycmFmbyB5IHNlIGFncmVnYSBhbCBmaW5hbCBkZWwgbG9nCiAgICAgIGxldCBsb2cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJwIikKICAgICAgbG9nLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRoaXMubXNnTG9nKSkKICAgICAgdGhpcy4kcmVmcy5sb2cuYXBwZW5kQ2hpbGQobG9nKQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24oKSB7CiAgICAvL0NyZWFyIGp1Z2Fkb3JlcyBodW1hbm9zCgogICAgY29uc3QgcGxheWVycyA9IHRoaXMuJHN0b3JlLnN0YXRlLnBsYXllcnM7CiAgICBsZXQganVnYWRvcmVzID0gW107CiAgICBmb3IgKGxldCBpPSAwOyBpIDwgcGxheWVycy5sZW5ndGg7IGkrKykgewogICAgICBqdWdhZG9yZXMucHVzaChuZXcgSnVnYWRvcihpLCBwbGF5ZXJzW2ldLm5hbWUsICJodW1hbm8iKSk7CiAgICB9CiAgICAvL0NyZWFyIGp1Z2Fkb3JlcyBtYXF1aW5hCiAgICBmb3IgKGxldCBpID0ganVnYWRvcmVzLmxlbmd0aCA7IGkgPCA1OyBpKyspIHsKICAgICAganVnYWRvcmVzLnB1c2gobmV3IEp1Z2Fkb3IoaSwgdGhpcy5nZXRQb2tlbW9uc1tpXS5uYW1lLCAibWFxdWluYSIpKTsKICAgIH0KCiAgICAvL1Bpc3RhcwogICAgY29uc3QgdHJhY2tzID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRUcmFjazsKICAgIGxldCBhdXggPSBbXTsKICAgIHN3aXRjaCAodHJhY2tzKSB7CiAgICAgIGNhc2UgIkNvcnRhIjoKICAgICAgICAvL0lkID0gMSwgTm9tYnJlIHBpc3RhID0gQ29ydGEsIGxvbmdpdHVkIDFLbQogICAgICAgIGF1eCA9IFsxLCAiQ29ydGEiLCAxXTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAiTGFyZ2EiOgogICAgICAgIC8vSWQgPSAyLCBOb21icmUgcGlzdGEgPSBMYXJnYSwgbG9uZ2l0dWQgMTBLbQogICAgICAgIGF1eCA9IFsyLCAiTGFyZ2EiLCAxMF07CiAgICAgICAgYnJlYWs7CiAgICB9CgogICAgY29uc3QgcGlzdGFzID0gW25ldyBQaXN0YShhdXhbMF0sIGF1eFsxXSwgYXV4WzJdKV07CgogICAgLy9DcmVhciBjYXJyaWxlcywgY2Fycm9zIHkgY29uZHVjdG9yZXMKICAgIGxldCBjb25kdWN0b3JlcyA9IFtdOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwganVnYWRvcmVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGxldCBjYXJyaWwgPSBuZXcgQ2FycmlsKHBpc3Rhc1swXS5saW1pdGUpOwogICAgICBsZXQgY2Fycm8gPSBuZXcgQ2Fycm8oY2FycmlsKTsKICAgICAgY29uZHVjdG9yZXMucHVzaChuZXcgQ29uZHVjdG9yKGp1Z2Fkb3Jlc1tpXSwgY2Fycm8pKTsKICAgIH0KCiAgICBsZXQgaWRHYW1lID0gZ2V0TnVtYmVyUmFuZG9tKDEwMDAwMDAwLCAxMDAwMDAwKTsKICAgIGxldCBqdWVnbyA9IG5ldyBKdWVnbyhpZEdhbWUpOwogICAganVlZ28ucGlzdGFzID0gcGlzdGFzOwogICAganVlZ28uY29uZHVjdG9yZXMgPSBjb25kdWN0b3JlczsKICAgIHRoaXMuanVlZ28gPSBqdWVnbzsKICB9LAp9Owo="},{"version":3,"sources":["Juego.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Juego.vue","sourceRoot":"src/views","sourcesContent":["<template lang=\"pug\">\n  section.juego\n    modal(\n      v-show=\"showModal\"\n      @close=\"showModal = false\"\n      @throw=\"onThrow\"\n    )\n      template(v-slot:header)\n        h3 Jugador {{getJugador.nombre}}\n    h1 Carreras de autos\n    .juego-container\n      .pista\n        .carril(\n          v-for=\"carril,index in getConductores\"\n          :key=\"index\"\n        )\n          img.carro(\n            :src=\"getPokemons[index].img\" \n            :alt=\"getPokemons[index].name\"\n            :style=\"stylesCarro[index]\"\n            ref=\"carro\"\n            )\n      button(@click=\"showModal=true\") Iniciar\n    h2 Registros\n    .info-container(ref=\"log\")\n</template>\n\n<script lang=\"js\">\nimport getNumberRandom from \"@/utils/random\";\nimport Juego from \"@/models/Juego\";\nimport Pista from \"@/models/Pista\";\nimport Carro from \"@/models/Carro\";\nimport Conductor from \"@/models/Conductor\";\nimport Jugador from \"@/models/Jugador\";\nimport Carril from \"@/models/Carril\";\nimport modal from \"@/components/Modal.vue\"\n\n\nexport default {\n  components:{\n    modal\n  },\n  data: function() {\n    return {\n      juego: undefined,\n      currentJugador: 0,\n      position : 1,\n      showModal:false,\n      stylesCarro:[\n        {\"margin-left\":\"0\"},\n        {\"margin-left\":\"0\"},\n        {\"margin-left\":\"0\"},\n        {\"margin-left\":\"0\"},\n        {\"margin-left\":\"0\"},\n      ]\n    };\n  },\n  computed: {\n    getPokemons: function() { return this.$store.state.pokemons},\n    getConductores: function() {\n      return this.juego.conductores\n    },\n    getConductor: function() {\n      return this.getConductores[this.currentJugador]\n    },\n    getJugador: function() {\n      return this.getConductor.jugador\n    },\n    getCarro: function() {\n      return this.getConductor.carro\n    },\n    getAvance: function() {\n      return (this.getCarro.distancia * 100) / (this.getCarro.carril.longitud*1000)\n    },\n    msgLog: function() {\n      return `Jugador ${this.getJugador.nombre} avanzó al kilómetro ${this.getCarro.distancia/1000}`\n    }\n  },\n  methods:{\n    onThrow: function(){\n      if(this.getConductor.position !== 0){\n        this.getCarro.avanzar(this.getConductor.tirarDado() * 100)\n        this.newP()\n\n        if(this.getCarro.distancia/1000 > this.getCarro.carril.longitud | this.getAvance > this.getCarro.carril.longitud * 1000){\n          this.stylesCarro[this.currentJugador][\"margin-left\"] = `90%`\n          if(this.position <=5){\n            this.getConductor.position = this.position\n            this.position ++\n          }\n        }\n        else{\n          this.stylesCarro[this.currentJugador][\"margin-left\"] = `${this.getAvance}%`\n        }\n      }\n\n      if (this.currentJugador < this.getConductores.length-1 ){\n        this.currentJugador++\n      }\n      else{\n        this.currentJugador = 0\n      }\n    },\n    newP:function() {\n      //Crear un nuevo parrafo y se agrega al final del log\n      let log = document.createElement(\"p\")\n      log.appendChild(document.createTextNode(this.msgLog))\n      this.$refs.log.appendChild(log)\n    }\n  },\n  created: function() {\n    //Crear jugadores humanos\n\n    const players = this.$store.state.players;\n    let jugadores = [];\n    for (let i= 0; i < players.length; i++) {\n      jugadores.push(new Jugador(i, players[i].name, \"humano\"));\n    }\n    //Crear jugadores maquina\n    for (let i = jugadores.length ; i < 5; i++) {\n      jugadores.push(new Jugador(i, this.getPokemons[i].name, \"maquina\"));\n    }\n\n    //Pistas\n    const tracks = this.$store.getters.getTrack;\n    let aux = [];\n    switch (tracks) {\n      case \"Corta\":\n        //Id = 1, Nombre pista = Corta, longitud 1Km\n        aux = [1, \"Corta\", 1];\n        break;\n      case \"Larga\":\n        //Id = 2, Nombre pista = Larga, longitud 10Km\n        aux = [2, \"Larga\", 10];\n        break;\n    }\n\n    const pistas = [new Pista(aux[0], aux[1], aux[2])];\n\n    //Crear carriles, carros y conductores\n    let conductores = [];\n\n    for (let i = 0; i < jugadores.length; i++) {\n      let carril = new Carril(pistas[0].limite);\n      let carro = new Carro(carril);\n      conductores.push(new Conductor(jugadores[i], carro));\n    }\n\n    let idGame = getNumberRandom(10000000, 1000000);\n    let juego = new Juego(idGame);\n    juego.pistas = pistas;\n    juego.conductores = conductores;\n    this.juego = juego;\n  },\n};\n</script>\n\n<style lang=\"stylus\">\n.juego\n  .juego-container\n    width  95vw\n    height auto\n    position relative\n  .pista\n    width 100%\n    height auto\n    position relative\n  .carril\n    width 100%\n    margin 15px 0\n    display flex\n    background-color green\n  .carro\n    width  50px\n    height 50px\n\n  .info-container\n    width  95vw\n    height 25vh\n    overflow auto\n</style>\n"]}]}